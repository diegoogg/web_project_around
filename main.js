!function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,n(o.key),o)}}function n(t){var n=function(t,n){if("object"!=e(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,"string");if("object"!=e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==e(n)?n:n+""}var r=function(){return e=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._formElement=t,this._formConfig=n},n=[{key:"_setEventListeners",value:function(e,t){var n=this,r=Array.from(e.querySelectorAll(t.inputSelector)),o=e.querySelector(t.submitButtonSelector);r.forEach((function(i){i.addEventListener("input",(function(a){var u=e.querySelector(".popup__error_type_".concat(i.name));i.validity.valid?(i.classList.remove(t.inputErrorClass),u.textContent=""):(i.classList.add(t.inputErrorClass),u.textContent=i.validationMessage),o.disabled=!n._hasValidInput(r)}))})),o.disabled=!this._hasValidInput(r)}},{key:"enableValidation",value:function(){this._setEventListeners(this._formElement,this._formConfig)}},{key:"_hasValidInput",value:function(e){return e.every((function(e){return e.validity.valid}))}}],n&&t(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n}();function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}function a(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==o(t)?t:t+""}var u=function(){return e=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userName=t,this._userJob=n},(t=[{key:"getUserInfo",value:function(){return{name:this._userName.textContent,job:this._userJob.textContent}}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.job;this._userName.textContent=t,this._userJob.textContent=n}}])&&i(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,s(r.key),r)}}function s(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==c(t)?t:t+""}var p=function(){return e=function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t,this._link=n,this.handleCardClick=r},(t=[{key:"_getCard",value:function(){var e=document.querySelector(".template").content.querySelector(".elements__card").cloneNode(!0);return e.querySelector(".elements__image").src=this._link,e.querySelector(".elements__image").alt="Imagen de : "+this._name,e.querySelector(".elements__image-description-title").textContent=this._name,e.querySelector(".elements__image-delete-btn").addEventListener("click",(function(){e.remove()})),e}},{key:"_setEventListener",value:function(e){var t=this,n=e.querySelector(".elements__image-like-btn");n.addEventListener("click",(function(){n.classList.toggle("elements__image-like-btn-active")})),e.querySelector(".elements__image").addEventListener("click",(function(){g.classList.add("popup_opened"),document.addEventListener("keydown",P),g.querySelector(".popup__image").src=t._link,g.querySelector(".popup__image-title").textContent=t._name}))}},{key:"returnCard",value:function(){var e=this._getCard();return this._setEventListener(e),e}},{key:"handleClick",value:function(){this.handleCardClick(this._data)}}])&&l(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}(),m=document.querySelector(".popup__form_profile"),f=document.querySelector(".popup_container-profile"),y=document.querySelector(".popup_container-place"),d=document.querySelector(".profile__edit"),v=document.querySelector(".profile__add"),_=(document.querySelector(".popup__input_place"),document.querySelector(".popup__input_src"),document.querySelector(".popup__input_name")),b=document.querySelector(".popup__input_job"),S=document.querySelector(".profile__name"),h=document.querySelector(".profile__description"),w=document.querySelectorAll(".popup__close"),k=y.querySelector(".popup__input_place"),E=y.querySelector(".popup__input_src"),g=document.getElementById("image-popup"),C=document.querySelector(".elements"),L=[{name:"Valle de Yosemite",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/yosemite.jpg"},{name:"Lago Louise",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/lake-louise.jpg"},{name:"MontaÃ±as Calvas",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/bald-mountains.jpg"},{name:"Latemar",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/latemar.jpg"},{name:"Parque Nacional de la Vanoise",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/vanoise.jpg"},{name:"Lago di Braies",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/lago.jpg"}],q={formSelector:".popup__info",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_inactive",inputErrorClass:"popup__input_has_error",errorClass:"popup__error"};function j(e){e.preventDefault(),f.classList.remove("popup_opened"),y.classList.remove("popup_opened"),g.classList.remove("popup_opened"),document.removeEventListener("keydown",P)}function P(e){"Escape"===e.key&&j(e)}function x(e,t){return new p(e,t,"#template").returnCard()}function B(e){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(e)}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,O(r.key),r)}}function O(e){var t=function(e,t){if("object"!=B(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=B(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==B(t)?t:t+""}var T=function(){return e=function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=r,this._renderer=o,this._styleSelector=n},(t=[{key:"renderer",value:function(){var e=this;this._items.forEach((function(t){var n=e.renderer(t);e.addItem(n)}))}},{key:"addItem",value:function(e){this._styleSelector.append(e)}}])&&I(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}(),V=(new u({userName:S,userJob:h}),new r(m,q)),z=new r(y,q);new T({items:L,renderer:function(e){return x(e.name,e.link)}},".elements"),y.addEventListener("submit",(function(e){e.preventDefault();var t=x(k.value,E.value);C.prepend(t),j(e),k.value="",E.value=""})),L.forEach((function(e){var t=x(e.name,e.link);C.append(t)})),Array.from(w).forEach((function(e){e.addEventListener("click",j)})),m.addEventListener("submit",(function(e){e.preventDefault(),S.textContent=_.value,h.textContent=b.value,j(e)})),m.addEventListener("submit",(function(e){e.preventDefault(),j(e)})),d.addEventListener("click",(function(e){e.preventDefault(),_.value=S.textContent,b.value=h.textContent,f.classList.add("popup_opened"),document.addEventListener("keydown",P)})),v.addEventListener("click",(function(e){e.preventDefault(),y.classList.add("popup_opened"),document.addEventListener("keydown",P)})),V.enableValidation(),z.enableValidation()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFJQyxpQkFDSmxCLEVBQVN0QyxVQUFVSSxJQUFJLGdCQUN2Qm9CLFNBQVMvQixpQkFBaUIsVUFBV3VDLEVBQ3ZDLElBbUJBc0MsRUFBWUcsbUJBQ1pGLEVBQVVFLGtCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NjcmlwdHMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IoZm9ybUVsZW1lbnQsIGZvcm1Db25maWcpIHtcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xuICAgIHRoaXMuX2Zvcm1Db25maWcgPSBmb3JtQ29uZmlnO1xuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKGZvcm0sIGZvcm1Db25maWcpIHtcbiAgICBjb25zdCBpbnB1dExpc3QgPSBBcnJheS5mcm9tKFxuICAgICAgZm9ybS5xdWVyeVNlbGVjdG9yQWxsKGZvcm1Db25maWcuaW5wdXRTZWxlY3RvcilcbiAgICApO1xuICAgIGNvbnN0IGJ1dHRvblN1Ym1pdCA9IGZvcm0ucXVlcnlTZWxlY3Rvcihmb3JtQ29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcblxuICAgIGlucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGVycm9yTXNnID0gZm9ybS5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAgIGAucG9wdXBfX2Vycm9yX3R5cGVfJHtpbnB1dEVsZW1lbnQubmFtZX1gXG4gICAgICAgICk7XG4gICAgICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICAgICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQoZm9ybUNvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xuICAgICAgICAgIGVycm9yTXNnLnRleHRDb250ZW50ID0gaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGZvcm1Db25maWcuaW5wdXRFcnJvckNsYXNzKTtcbiAgICAgICAgICBlcnJvck1zZy50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgICAgIH1cbiAgICAgICAgYnV0dG9uU3VibWl0LmRpc2FibGVkID0gIXRoaXMuX2hhc1ZhbGlkSW5wdXQoaW5wdXRMaXN0KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGJ1dHRvblN1Ym1pdC5kaXNhYmxlZCA9ICF0aGlzLl9oYXNWYWxpZElucHV0KGlucHV0TGlzdCk7XG4gIH1cblxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKHRoaXMuX2Zvcm1FbGVtZW50LCB0aGlzLl9mb3JtQ29uZmlnKTtcbiAgfVxuXG4gIF9oYXNWYWxpZElucHV0KGlucHV0TGlzdCkge1xuICAgIHJldHVybiBpbnB1dExpc3QuZXZlcnkoKGl0ZW0pID0+IHtcbiAgICAgIHJldHVybiBpdGVtLnZhbGlkaXR5LnZhbGlkO1xuICAgIH0pO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKHVzZXJOYW1lLCB1c2VySm9iKSB7XG4gICAgdGhpcy5fdXNlck5hbWUgPSB1c2VyTmFtZTtcbiAgICB0aGlzLl91c2VySm9iID0gdXNlckpvYjtcbiAgfVxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogdGhpcy5fdXNlck5hbWUudGV4dENvbnRlbnQsXG4gICAgICBqb2I6IHRoaXMuX3VzZXJKb2IudGV4dENvbnRlbnQsXG4gICAgfTtcbiAgfVxuICBzZXRVc2VySW5mbyh7IG5hbWUsIGpvYiB9KSB7XG4gICAgdGhpcy5fdXNlck5hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIHRoaXMuX3VzZXJKb2IudGV4dENvbnRlbnQgPSBqb2I7XG4gIH1cbn1cbiIsImltcG9ydCB7IGNsb3NlRXNjLCBpbWFnZVBvcHVwIH0gZnJvbSBcIi4uL3NjcmlwdHMvdXRpbHMuanNcIjtcbmltcG9ydCB7IFBvcHVwV2l0aEltYWdlIH0gZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKG5hbWUsIGxpbmssIGhhbmRsZUNhcmRDbGljaykge1xuICAgIHRoaXMuX25hbWUgPSBuYW1lO1xuICAgIHRoaXMuX2xpbmsgPSBsaW5rO1xuICAgIHRoaXMuaGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xuICB9XG4gIF9nZXRDYXJkKCkge1xuICAgIGNvbnN0IHRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50ZW1wbGF0ZVwiKTtcbiAgICBjb25zdCB0ZW1wbGFkZU5vZGUgPSB0ZW1wbGF0ZS5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX2NhcmRcIik7XG4gICAgY29uc3QgY2FyZE5vZGUgPSB0ZW1wbGFkZU5vZGUuY2xvbmVOb2RlKHRydWUpO1xuXG4gICAgY2FyZE5vZGUucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c19faW1hZ2VcIikuc3JjID0gdGhpcy5fbGluaztcbiAgICBjYXJkTm9kZS5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX19pbWFnZVwiKS5hbHQgPVxuICAgICAgXCJJbWFnZW4gZGUgOiBcIiArIHRoaXMuX25hbWU7XG4gICAgY2FyZE5vZGUucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c19faW1hZ2UtZGVzY3JpcHRpb24tdGl0bGVcIikudGV4dENvbnRlbnQgPVxuICAgICAgdGhpcy5fbmFtZTtcblxuICAgIGNhcmROb2RlXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c19faW1hZ2UtZGVsZXRlLWJ0blwiKVxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIGNhcmROb2RlLnJlbW92ZSgpO1xuICAgICAgfSk7XG5cbiAgICByZXR1cm4gY2FyZE5vZGU7XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcihjYXJkTm9kZSkge1xuICAgIGNvbnN0IGxpa2VCdG4gPSBjYXJkTm9kZS5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX19pbWFnZS1saWtlLWJ0blwiKTtcblxuICAgIGxpa2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIGxpa2VCdG4uY2xhc3NMaXN0LnRvZ2dsZShcImVsZW1lbnRzX19pbWFnZS1saWtlLWJ0bi1hY3RpdmVcIik7XG4gICAgfSk7XG4gICAgY2FyZE5vZGUucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c19faW1hZ2VcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIGltYWdlUG9wdXAuY2xhc3NMaXN0LmFkZChcInBvcHVwX29wZW5lZFwiKTtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGNsb3NlRXNjKTtcbiAgICAgIGltYWdlUG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW1hZ2VcIikuc3JjID0gdGhpcy5fbGluaztcbiAgICAgIGltYWdlUG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW1hZ2UtdGl0bGVcIikudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xuICAgIH0pO1xuICB9XG4gIHJldHVybkNhcmQoKSB7XG4gICAgY29uc3Qgbm9kZSA9IHRoaXMuX2dldENhcmQoKTtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVyKG5vZGUpO1xuICAgIHJldHVybiBub2RlO1xuICB9XG5cbiAgaGFuZGxlQ2xpY2soKSB7XG4gICAgdGhpcy5oYW5kbGVDYXJkQ2xpY2sodGhpcy5fZGF0YSk7XG4gIH1cbn1cbiIsImltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcblxuZXhwb3J0IGNvbnN0IGZvcm1FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybV9wcm9maWxlXCIpO1xuXG5leHBvcnQgY29uc3QgbmV3UHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfY29udGFpbmVyLXByb2ZpbGVcIik7XG5leHBvcnQgY29uc3QgbmV3UGxhY2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX2NvbnRhaW5lci1wbGFjZVwiKTtcblxuZXhwb3J0IGNvbnN0IGVkaXRQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0XCIpO1xuZXhwb3J0IGNvbnN0IGFkZFBsYWNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGRcIik7XG5cbmV4cG9ydCBjb25zdCBwbGFjZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW5wdXRfcGxhY2VcIik7XG5leHBvcnQgY29uc3QgcGxhY2VTcmMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbnB1dF9zcmNcIik7XG5cbmV4cG9ydCBjb25zdCBuYW1lSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbnB1dF9uYW1lXCIpO1xuZXhwb3J0IGNvbnN0IGpvYklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW5wdXRfam9iXCIpO1xuXG5leHBvcnQgY29uc3QgcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX25hbWVcIik7XG5leHBvcnQgY29uc3QgcHJvZmlsZUpvYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZGVzY3JpcHRpb25cIik7XG5cbmV4cG9ydCBjb25zdCBjbG9zZUVkaXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwX19jbG9zZVwiKTtcblxuZXhwb3J0IGNvbnN0IG5ld1BsYWNlTmFtZUlucHV0ID0gbmV3UGxhY2UucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW5wdXRfcGxhY2VcIik7XG5leHBvcnQgY29uc3QgbmV3UGxhY2VMaW5rSW5wdXQgPSBuZXdQbGFjZS5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbnB1dF9zcmNcIik7XG5cbmV4cG9ydCBjb25zdCBpbWFnZVBvcHVwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbWFnZS1wb3B1cFwiKTtcblxuZXhwb3J0IGNvbnN0IGVsZW1lbnRzQXJlYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNcIik7XG5cbmV4cG9ydCBjb25zdCBpbml0aWFsQ2FyZHMgPSBbXG4gIHtcbiAgICBuYW1lOiBcIlZhbGxlIGRlIFlvc2VtaXRlXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL25ldy1tYXJrZXRzL1dFQl9zcHJpbnRfNS9FUy95b3NlbWl0ZS5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiTGFnbyBMb3Vpc2VcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vbmV3LW1hcmtldHMvV0VCX3NwcmludF81L0VTL2xha2UtbG91aXNlLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJNb250YcOxYXMgQ2FsdmFzXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL25ldy1tYXJrZXRzL1dFQl9zcHJpbnRfNS9FUy9iYWxkLW1vdW50YWlucy5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiTGF0ZW1hclwiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9uZXctbWFya2V0cy9XRUJfc3ByaW50XzUvRVMvbGF0ZW1hci5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiUGFycXVlIE5hY2lvbmFsIGRlIGxhIFZhbm9pc2VcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vbmV3LW1hcmtldHMvV0VCX3NwcmludF81L0VTL3Zhbm9pc2UuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIkxhZ28gZGkgQnJhaWVzXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL25ldy1tYXJrZXRzL1dFQl9zcHJpbnRfNS9FUy9sYWdvLmpwZ1wiLFxuICB9LFxuXTtcblxuZXhwb3J0IGNvbnN0IGZvcm1Db25maWcgPSB7XG4gIGZvcm1TZWxlY3RvcjogXCIucG9wdXBfX2luZm9cIixcbiAgaW5wdXRTZWxlY3RvcjogXCIucG9wdXBfX2lucHV0XCIsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5wb3B1cF9fYnV0dG9uXCIsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwicG9wdXBfX2J1dHRvbl9pbmFjdGl2ZVwiLFxuICBpbnB1dEVycm9yQ2xhc3M6IFwicG9wdXBfX2lucHV0X2hhc19lcnJvclwiLFxuICBlcnJvckNsYXNzOiBcInBvcHVwX19lcnJvclwiLFxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNsb3NlUG9wdXAoZXZ0KSB7XG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICBuZXdQcm9maWxlLmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9vcGVuZWRcIik7XG4gIG5ld1BsYWNlLmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9vcGVuZWRcIik7XG4gIGltYWdlUG9wdXAuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX29wZW5lZFwiKTtcbiAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgY2xvc2VFc2MpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xvc2VFc2MoZXZ0KSB7XG4gIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgY2xvc2VQb3B1cChldnQpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVQcm9maWxlRm9ybVN1Ym1pdChldnQpIHtcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gIHByb2ZpbGVOYW1lLnRleHRDb250ZW50ID0gbmFtZUlucHV0LnZhbHVlO1xuICBwcm9maWxlSm9iLnRleHRDb250ZW50ID0gam9iSW5wdXQudmFsdWU7XG4gIGNsb3NlUG9wdXAoZXZ0KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZU5ld1BsYWNlRm9ybVN1Ym1pdChldnQpIHtcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgY2xvc2VQb3B1cChldnQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ2FyZChuYW1lLCBsaW5rKSB7XG4gIHJldHVybiBuZXcgQ2FyZChuYW1lLCBsaW5rLCBcIiN0ZW1wbGF0ZVwiKS5yZXR1cm5DYXJkKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVBZGRDYXJkKGV2dCkge1xuICBldnQucHJldmVudERlZmF1bHQoKTtcblxuICBjb25zdCBjYXJkTm9kZSA9IGNyZWF0ZUNhcmQobmV3UGxhY2VOYW1lSW5wdXQudmFsdWUsIG5ld1BsYWNlTGlua0lucHV0LnZhbHVlKTtcblxuICBlbGVtZW50c0FyZWEucHJlcGVuZChjYXJkTm9kZSk7XG4gIGNsb3NlUG9wdXAoZXZ0KTtcbiAgbmV3UGxhY2VOYW1lSW5wdXQudmFsdWUgPSBcIlwiO1xuICBuZXdQbGFjZUxpbmtJbnB1dC52YWx1ZSA9IFwiXCI7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgc3R5bGVTZWxlY3Rvcikge1xuICAgIHRoaXMuX2l0ZW1zID0gaXRlbXM7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9zdHlsZVNlbGVjdG9yID0gc3R5bGVTZWxlY3RvcjtcbiAgfVxuICByZW5kZXJlcigpIHtcbiAgICB0aGlzLl9pdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAvL2NvbnN0IHJlbmRlckl0ZW0gPSB0aGlzLl9yZW5kZXJlcihpdGVtKTtcblxuICAgICAgY29uc3Qgbm9kZSA9IHRoaXMucmVuZGVyZXIoaXRlbSk7XG4gICAgICB0aGlzLmFkZEl0ZW0obm9kZSk7XG4gICAgfSk7XG4gIH1cbiAgYWRkSXRlbShlbGVtZW50KSB7XG4gICAgdGhpcy5fc3R5bGVTZWxlY3Rvci5hcHBlbmQoZWxlbWVudCk7XG4gIH1cbn1cbiIsImltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcbmltcG9ydCBcIi4vc3R5bGVzL2luZGV4LmNzc1wiO1xuaW1wb3J0IHsgUG9wdXBXaXRoRm9ybSB9IGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwLmpzXCI7XG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcbmltcG9ydCB7XG4gIG5hbWVJbnB1dCxcbiAgcHJvZmlsZU5hbWUsXG4gIGpvYklucHV0LFxuICBwcm9maWxlSm9iLFxuICBuZXdQcm9maWxlLFxuICBjbG9zZUVzYyxcbiAgbmV3UGxhY2UsXG4gIGhhbmRsZUFkZENhcmQsXG4gIGluaXRpYWxDYXJkcyxcbiAgZWxlbWVudHNBcmVhLFxuICBjbG9zZUVkaXRCdG4sXG4gIGNsb3NlUG9wdXAsXG4gIGZvcm1FbGVtZW50LFxuICBoYW5kbGVQcm9maWxlRm9ybVN1Ym1pdCxcbiAgaGFuZGxlTmV3UGxhY2VGb3JtU3VibWl0LFxuICBlZGl0UHJvZmlsZSxcbiAgYWRkUGxhY2UsXG4gIGZvcm1Db25maWcsXG4gIGNyZWF0ZUNhcmQsXG59IGZyb20gXCIuLi9zY3JpcHRzL3V0aWxzLmpzXCI7XG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XG5cbmNvbnN0IG5ld1VzZXIgPSBuZXcgVXNlckluZm8oe1xuICB1c2VyTmFtZTogcHJvZmlsZU5hbWUsXG4gIHVzZXJKb2I6IHByb2ZpbGVKb2IsXG59KTtcblxuY29uc3QgZm9ybVByb2ZpbGUgPSBuZXcgRm9ybVZhbGlkYXRvcihmb3JtRWxlbWVudCwgZm9ybUNvbmZpZyk7XG5jb25zdCBmb3JtUGxhY2UgPSBuZXcgRm9ybVZhbGlkYXRvcihuZXdQbGFjZSwgZm9ybUNvbmZpZyk7XG5cbmNvbnN0IHNlY3Rpb24gPSBuZXcgU2VjdGlvbihcbiAge1xuICAgIGl0ZW1zOiBpbml0aWFsQ2FyZHMsXG4gICAgcmVuZGVyZXI6IChpdGVtKSA9PiB7XG4gICAgICBjb25zdCBjYXJkTm9kZSA9IGNyZWF0ZUNhcmQoaXRlbS5uYW1lLCBpdGVtLmxpbmspO1xuICAgICAgcmV0dXJuIGNhcmROb2RlO1xuICAgIH0sXG4gIH0sXG4gIFwiLmVsZW1lbnRzXCJcbik7XG5cbmZ1bmN0aW9uIGVkaXROZXdQcm9maWxlKGV2dCkge1xuICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgbmFtZUlucHV0LnZhbHVlID0gcHJvZmlsZU5hbWUudGV4dENvbnRlbnQ7XG4gIGpvYklucHV0LnZhbHVlID0gcHJvZmlsZUpvYi50ZXh0Q29udGVudDtcbiAgbmV3UHJvZmlsZS5jbGFzc0xpc3QuYWRkKFwicG9wdXBfb3BlbmVkXCIpO1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBjbG9zZUVzYyk7XG59XG5cbmZ1bmN0aW9uIGFkZE5ld1BsYWNlKGV2dCkge1xuICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgbmV3UGxhY2UuY2xhc3NMaXN0LmFkZChcInBvcHVwX29wZW5lZFwiKTtcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgY2xvc2VFc2MpO1xufVxuXG5uZXdQbGFjZS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGhhbmRsZUFkZENhcmQpO1xuXG5pbml0aWFsQ2FyZHMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICBjb25zdCBjYXJkTm9kZSA9IGNyZWF0ZUNhcmQoaXRlbS5uYW1lLCBpdGVtLmxpbmspO1xuICBlbGVtZW50c0FyZWEuYXBwZW5kKGNhcmROb2RlKTtcbn0pO1xuXG5BcnJheS5mcm9tKGNsb3NlRWRpdEJ0bikuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjbG9zZVBvcHVwKTtcbn0pO1xuXG5mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGhhbmRsZVByb2ZpbGVGb3JtU3VibWl0KTtcbmZvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgaGFuZGxlTmV3UGxhY2VGb3JtU3VibWl0KTtcblxuZWRpdFByb2ZpbGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGVkaXROZXdQcm9maWxlKTtcbmFkZFBsYWNlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhZGROZXdQbGFjZSk7XG5cbmZvcm1Qcm9maWxlLmVuYWJsZVZhbGlkYXRpb24oKTtcbmZvcm1QbGFjZS5lbmFibGVWYWxpZGF0aW9uKCk7XG4iXSwibmFtZXMiOlsiRm9ybVZhbGlkYXRvciIsImZvcm1FbGVtZW50IiwiZm9ybUNvbmZpZyIsIl9jbGFzc0NhbGxDaGVjayIsInRoaXMiLCJfZm9ybUVsZW1lbnQiLCJfZm9ybUNvbmZpZyIsImtleSIsInZhbHVlIiwiZm9ybSIsIl90aGlzIiwiaW5wdXRMaXN0IiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImlucHV0U2VsZWN0b3IiLCJidXR0b25TdWJtaXQiLCJxdWVyeVNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJmb3JFYWNoIiwiaW5wdXRFbGVtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwiZXJyb3JNc2ciLCJjb25jYXQiLCJuYW1lIiwidmFsaWRpdHkiLCJ2YWxpZCIsImNsYXNzTGlzdCIsInJlbW92ZSIsImlucHV0RXJyb3JDbGFzcyIsInRleHRDb250ZW50IiwiYWRkIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJkaXNhYmxlZCIsIl9oYXNWYWxpZElucHV0IiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiZXZlcnkiLCJpdGVtIiwiVXNlckluZm8iLCJ1c2VyTmFtZSIsInVzZXJKb2IiLCJfdXNlck5hbWUiLCJfdXNlckpvYiIsImpvYiIsIl9yZWYiLCJDYXJkIiwibGluayIsImhhbmRsZUNhcmRDbGljayIsIl9uYW1lIiwiX2xpbmsiLCJjYXJkTm9kZSIsImRvY3VtZW50IiwiY29udGVudCIsImNsb25lTm9kZSIsInNyYyIsImFsdCIsImxpa2VCdG4iLCJ0b2dnbGUiLCJpbWFnZVBvcHVwIiwiY2xvc2VFc2MiLCJub2RlIiwiX2dldENhcmQiLCJfc2V0RXZlbnRMaXN0ZW5lciIsIl9kYXRhIiwibmV3UHJvZmlsZSIsIm5ld1BsYWNlIiwiZWRpdFByb2ZpbGUiLCJhZGRQbGFjZSIsIm5hbWVJbnB1dCIsImpvYklucHV0IiwicHJvZmlsZU5hbWUiLCJwcm9maWxlSm9iIiwiY2xvc2VFZGl0QnRuIiwibmV3UGxhY2VOYW1lSW5wdXQiLCJuZXdQbGFjZUxpbmtJbnB1dCIsImdldEVsZW1lbnRCeUlkIiwiZWxlbWVudHNBcmVhIiwiaW5pdGlhbENhcmRzIiwiZm9ybVNlbGVjdG9yIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImVycm9yQ2xhc3MiLCJjbG9zZVBvcHVwIiwiZXZ0IiwicHJldmVudERlZmF1bHQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiY3JlYXRlQ2FyZCIsInJldHVybkNhcmQiLCJTZWN0aW9uIiwic3R5bGVTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJfc3R5bGVTZWxlY3RvciIsImFkZEl0ZW0iLCJlbGVtZW50IiwiYXBwZW5kIiwiZm9ybVByb2ZpbGUiLCJmb3JtUGxhY2UiLCJwcmVwZW5kIiwiZW5hYmxlVmFsaWRhdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=